{% extends 'header.html' %}

{% block header %}
  <!-- <h1 class="text-center">{% block title %}Othes Tasks{% endblock %}</h1> -->
{% endblock %}

<!-- List of names here and then u can click them to get to the person page -->
{% block content %}
<style>
    .image-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 5px; /* Add minimal space between images */
        padding: 10px;
        grid-auto-rows: 150px; /* Create rows of consistent height */
    }
    .image-grid img {
        width: auto;
        height: auto;
        max-width: 100%;
        max-height: 100%;
        margin: auto;
        display: block;
        border-radius: 4px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s ease-in-out;
    }
    .image-grid img:hover {
        transform: scale(1.05);
    }
    @media (max-width: 600px) {
        h1 {
            font-size: 1.5em;
        }
        .image-grid {
            gap: 3px; /* Reduce spacing for smaller screens */
            padding: 5px;
        }
    }
</style>

    <div class="container">
        <h1 style="text-align: center;">Photo Gallery</h1>
        {% if pic_paths %}
            <div class="image-grid">
          
                {% for pic in pic_paths %}
                    <img class="rounded" src="media/{{ pic }}" alt="Task Image {{ loop.index }}" data-bs-toggle="modal" data-bs-target="#imageModal">
                {% endfor %}
          
            </div>
        {% else %}
            <p class="text-center mt-3">No tasks done :(</p>
        {% endif %}
        
        <!-- Preview Modal -->
        <div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="imageModalLabel">Image Preview</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <img id="modalImage" src="" alt="Selected Image" class="img-fluid rounded mx-auto d-block">
                    </div>
                </div>
            </div>
        </div>
    
        <script>
            const images = document.querySelectorAll('.image-grid img');
            const modalImage = document.getElementById('modalImage');
    
            images.forEach(image => {
                image.addEventListener('click', () => {
                    modalImage.src = image.src;
                });
            });
        </script>
    </div>
{% endblock %}